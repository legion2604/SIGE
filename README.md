# System for Image & Generation of Excel

![Go](https://img.shields.io/badge/Language-Go-00ADD8?logo=go&logoColor=white)
![JWT](https://img.shields.io/badge/Auth-JWT-yellow)
![AES](https://img.shields.io/badge/Encryption-AES--256-red)

–°–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è **–æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Excel-—Ñ–∞–π–ª–æ–≤** —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∏ –ø–µ—Ä–µ–¥–∞—á–µ–π –¥–∞–Ω–Ω—ã—Ö.  

---

## üìå –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

- –ü—Ä–∏–Ω–∏–º–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∏—Ö AES-256 –∏ —Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ.  
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ JWT-—Ç–æ–∫–µ–Ω–∞ —Å –∫–ª—é—á–æ–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.  
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å JSON –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –Ω–µ–≥–æ Excel-—Ñ–∞–π–ª, –≥–¥–µ –∫–ª—é—á–∏ JSON —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏, –∞ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî —Å—Ç—Ä–æ–∫–∞–º–∏.

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Backend —è–∑—ã–∫: **Go** (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π)  
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ: **AES-256-CBC / AES-GCM**  
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: **JWT (HS256)**  
- –§–æ—Ä–º–∞—Ç –æ–±–º–µ–Ω–∞: JSON + multipart/form-data  
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤: –ª–æ–∫–∞–ª—å–Ω–æ –≤ `/uploads` —Å –ø–æ–¥–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏ –ø–æ –¥–∞—Ç–µ  
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∑–∞–≥—Ä—É–∑–∫–∞, —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Excel) –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥  

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å—Ç–Ω–æ—Å—Ç—å

- JWT –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–æ–º ( HS256 ) –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è ( exp ).
- AES-–∫–ª—é—á–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Äî —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ JWT.
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω ‚Üí –Ω–µ –º–æ–∂–µ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —á—É–∂–∏–µ —Ñ–∞–π–ª—ã.
- –í—Å–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è –∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è (–±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ directory traversal).

---

## üìù –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ú–µ—Ç–æ–¥:** `POST /upload`  
**–§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:** `multipart/form-data`  

| –ü–æ–ª–µ   | –¢–∏–ø   | –û–ø–∏—Å–∞–Ω–∏–µ                        |
|--------|-------|---------------------------------|
| file   | —Ñ–∞–π–ª  | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (png, jpg, jpeg)   |
| user_id| int   | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è    |

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π AES-–∫–ª—é—á –¥–ª—è —Ñ–∞–π–ª–∞.  
2. –ö–ª—é—á –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ JWT:

```json
{
  "user_id": 123,
  "key": "<base64-encoded-aes-key>",
  "exp": "<timestamp>"
}

```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

**–ú–µ—Ç–æ–¥:** `GET /image/{file_id}`  
**–ó–∞–≥–æ–ª–æ–≤–æ–∫:** `Bearer <jwt_token>`  

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç JWT –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –µ–≥–æ –ø–æ–¥–ø–∏—Å—å.
2. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∏–∑ payload —Ç–æ–∫–µ–Ω–∞.
3. –° –ø–æ–º–æ—â—å—é —ç—Ç–æ–≥–æ –∫–ª—é—á–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª ( file_id ).
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≤–∏–¥–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ ( Content-Type: image/jpeg )

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Excel-—Ñ–∞–π–ª–∞ –∏–∑ JSON

**–ú–µ—Ç–æ–¥:** `POST /upload`  

| –ü–æ–ª–µ   | –¢–∏–ø   | –û–ø–∏—Å–∞–Ω–∏–µ                        |
|--------|-------|---------------------------------|
| ID     | []int  | –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ int   |
| path   | []string   | –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ string    |
| created_at| []string   | –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤ string    |

**–ü—Ä–æ—Ü–µ—Å—Å:**

1. –°–µ—Ä–≤–µ—Ä –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç JSON.
2. –§–æ—Ä–º–∏—Ä—É–µ—Ç Excel-—Ñ–∞–π–ª, –≥–¥–µ:
–ö–ª—é—á–∏ ( ID , path , created_at ) —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ —Å—Ç–æ–ª–±—Ü–æ–≤.
–ó–Ω–∞—á–µ–Ω–∏—è —Ñ–æ—Ä–º–∏—Ä—É—é—Ç —Å—Ç—Ä–æ–∫–∏ –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º.
3. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç Excel –≤ –ø–∞–ø–∫–µ /uploads/<–ú–µ—Å—è—Ü –ì–æ–¥>/excel_dynamic_<timestamp>.xlsx .
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç:
```json
{
  "status": "success",
  "path": "uploads/–ê–≤–≥—É—Å—Ç–∞ 2025/excel_dynamic_1754567123.xlsx"
}
```
